# 南科大足协系统

## 简介

1. 发布并展示来自体育中心的全局性公告；
2. 允许用户将自己注册为球员、教练、球队管理者、赛事管理者、比赛管理者、裁判等多种身份；
3. 允许用户自行创建球队，并自主进行球队信息、球队成员的管理；
4. 允许用户自行创建赛事（event，赛事示例：“书院杯”），并由我们的系统提供一系列服务；
5. 允许用户自行发起比赛（match，包含基于赛事的比赛，如“书院杯”的一场小组赛；以及独立的一场比赛，如树德和致诚周末约的友谊赛）。

我们希望所有功能首先基于微信小程序实现，而后逐渐扩展至web端。

请参照 “需求文档-数据库.md” 进一步理解需求。



## 开发架构

+ 前端
  + 用户端：**微信小程序（高优先级）** + web（低优先级）
  + 管理端：web（低优先级）
+ 后端
  + SpringBoot
    + 数据库：PostgreSQL
    + 持久层框架：MyBatis-Plus
    + 




## 功能详述

### 公告栏

#### 管理端

+ 信息发布

#### 用户端

+ 用户首页可以进行公告查看



**User <-> Player, Coach, Referee, 创建 Match, Event, Team**

### 球员 Player

用户可以将自己注册为一名南科大的足球运动员，他可以填写自己的信息。其他人可以查看他的球员主页。一位已注册的球员可以加入足球队。球员应自动展示他所参加的比赛。

球员的具体属性见 “需求文档-数据库.md”

**行为：**

1. 注册：填写必要信息即可完成注册；
2. 更新：可以在管理端进行信息更新；
3. 加入球队：可以申请加入某支球队或同意/拒绝球队邀请；

其他用户可以查看球员主页。



### 教练 Coach

用户可以将自己注册为一名教练，并加入球队担任教练。

**行为：**

1. 注册；
2. 同意/拒绝球队邀请；



### 球队 Team

用户可以填写相关的信息，将自己的球队注册至系统，成为球队管理者。球队可以邀请球员、准许或拒绝球员加入。球队可以被邀请参与某项比赛，也可也申请参与某项赛事。

**行为：**

1. 填写必要信息注册球队；
2. 邀请其他用户成为球队管理者；
3. 更新球队信息；
4. 邀请球员加入或同意/拒绝球员的入队申请；
5. 申请加入某项赛事或同意/拒绝赛事邀请；
6. 同意/拒绝比赛邀请；

其他用户可以查看球队相关资料。



### 比赛 Match

比赛是指两支球队之间，在指定时间、指定地点，进行的一场足球比赛。比赛可以依托于赛事，作为该项赛事的一场比赛；也可以与赛事无关，仅作为一场”友谊赛“出现。我们应当提供赛事相关的一系列服务，如：展示赛事时间、地点、对阵双方等信息，实时修改及展示比分、进球队员、红黄牌等信息，**提供直播及回放**。

若依托于赛事，则比赛管理者与赛事管理者一致。

**行为：**

1. 填写必要信息，邀请球队，创建比赛
   + “友谊赛”：在邀请的球队都接受邀请后，比赛才创建成功；
   + 基于赛事：只要邀请的球队为赛事内的球队，则比赛创建成功。
2. 邀请其他用户作为比赛管理者；
3. 邀请裁判
   + “友谊赛”：邀请的裁判可以接受邀请或拒绝；
   + 基于赛事：只要邀请的裁判为赛事内的裁判，则自动邀请成功。
4. 修改比分、进球队员、红黄牌信息；
5. 直播相关操作

其他用户可以查看比赛信息。



### 裁判 Referee

用户可以将自己注册为裁判，并填写相关信息。裁判主页应当展示历史执法的比赛。

**行为：**

1. 同意/拒绝比赛执法邀请；
2. 同意/拒绝赛事执法邀请；
3. 登记比赛的比分、红黄牌、进球球员等比赛信息；



### 赛事 Event

赛事应包含一系列比赛，如 “书院杯”。用户可以填写相关信息并发起一项赛事。

#### 赛事管理者

1. 赛事创建及信息发布
2. 邀请其他用户作为赛事管理者
3. 赛事信息更新
4. 赛程创建及更新
5. 抽签
6. 设置奖项及相应的球队/球员

#### 用户

1. 赛事列表查看
2. 赛事信息查看
3. 对于某一赛事，查看全部比赛赛程及概述信息



## Restful 接口设计

### User Controller

1. 注册
2. 登录
3. 登出（好像不太用？）
4. 收藏（球员、球队、比赛、赛事）**未完成**
5. 取消收藏（球员、球队、比赛、赛事）**未完成**
6. 获取收藏的（球员、球队、比赛、赛事）列表 **未完成**



### Player Controller

1. 创建
2. 获取一名球员
3. 获取一系列球员
4. 更新
5. 请求加入一支球队
6. 获取全部球队邀请
7. 回应一支球队的邀请（同意或拒绝）
8. 获取球员的全部比赛 **未完成**



### Team Controller

1. 创建
2. 获取一支球队
3. 获取一系列球队
4. 更新
5. 删除
6. 邀请管理员加入
7. 获取全部管理员
8. 删除管理员
9. 邀请球员加入球队
10. 获取全部的球员入队请求
11. 回应一位球员的入队请求
12. 获取球队的全部球员
13. 移除球员
14. 邀请教练加入球队
15. 获取全部教练
16. 移除教练
17. 获取全部的比赛邀请
18. 回应一项比赛的邀请
19. 获取球队的全部比赛
20. 请求加入一项赛事
21. 获取全部的赛事邀请
22. 回应一项赛事的邀请
23. 获取球队参加的全部赛事
24. 增加球队的队服 URL
25. 获取球队的全部队服图片 URL
26. 删除球队的队服 URL

备注：球队的数据库表并不显含全部球员、队服图片 URL、全部比赛、全部赛事等信息，所以需要单独调用接口查询。



### Coach Controller

1. 创建教练

2. 获取一名教练

3. 获取一系列教练

4. 更新教练信息

5. 获取全部球队邀请

6. 回应一支球队的邀请

7. 获取教练执教的全部球队

8. 获取教练相关的全部赛程

   

### Match Controller

1. 创建比赛（仅友谊赛调用该接口）
2. 获取一场比赛
3. 获取一系列比赛
4. 更新比赛
5. 删除一场比赛
6. 邀请管理员加入
7. 获取全部管理员
8. 移除管理员
9. 邀请主场球队/客场球队
10. 移除主场球队/客场球队
11. 邀请裁判
12. 获取全部裁判
13. 移除裁判
14. 裁判更新比赛结果
15. 裁判增加球员行为
16. 获取该比赛所属赛事（若无赛事则返回null） **未完成**

备注：“更新比赛” 指管理员进行操作，他有所有信息更改的权限。



### Referee Controller

1. 创建裁判
2. 获取一名裁判
3. 获取一系列裁判
4. 更新裁判
5. 查看比赛执法邀请
6. 回应比赛邀请
7. 获取裁判执法的全部比赛
8. 查看赛事邀请
9. 回应赛事邀请
10. 获取裁判执法的全部赛事



### Event Controller

1. 创建赛事
2. 获取一项赛事
3. 获取一系列赛事
4. 更新赛事
5. 删除赛事
6. 邀请管理员加入
7. 获取全部管理员
8. 删除管理员
9. 邀请球队参加赛事
10. 获取全部的球队参赛请求
11. 回应一支球队的参赛请求
12. 查看全部球队
13. 移除球队
14. 添加一场比赛
15. 查看全部比赛
16. 删除一场比赛
17. 邀请裁判
18. 查看全部裁判
19. 移除裁判



### Notification Controller

1. 创建一个通知（具体逻辑待定）
2. 查看通知（具体逻辑待定）
